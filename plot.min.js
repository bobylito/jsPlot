window.jsPlot=function(e,f,i){var h={extend:i,createCanvas:function(b,a){var d=f.getElementById(b),c=d.getElementsByTagName("canvas")[0];c||(c=f.createElement("canvas"),d.appendChild(c));c.width=a.canvasWidth;c.height=a.canvasHeight;return c.getContext("2d")},drawAxes:function(b,a){b.save();b.strokeStyle="#888";b.beginPath();b.moveTo(a.Xmin*a.xscale,0);b.lineTo(a.Xmax*a.xscale,0);b.moveTo(0,a.Ymin*a.yscale);b.lineTo(0,a.Ymax*a.yscale);b.stroke();b.fillStyle="black";b.beginPath();b.moveTo(a.Xmax*a.xscale,
0);b.lineTo(a.Xmax*a.xscale-10,6);b.lineTo(a.Xmax*a.xscale-10,-6);b.lineTo(a.Xmax*a.xscale,0);b.moveTo(0,a.Ymax*a.yscale);b.lineTo(-6,a.Ymax*a.yscale-10);b.lineTo(6,a.Ymax*a.yscale-10);b.lineTo(0,a.Ymax*a.yscale);b.fill();b.scale(-1,1);b.font="13px helvetica";b.textAlign="end";b.textBaseline="bottom";b.rotate(Math.PI);b.save();b.translate(a.Xmax*a.xscale-13,-2);b.fillText(a.xLabel,0,0);b.restore();b.rotate(-Math.PI/2);b.translate(a.Ymax*a.yscale-13,-2);b.fillText(a.yLabel,0,0);b.restore()},drawGrid:function(b,
a){b.save();b.strokeStyle="#CCF";b.beginPath();for(var d=Math.pow(5,a.gridDensity),c=a.Xmin-a.Xmin%d;c<a.Xmax;c+=d)b.moveTo(c*a.xscale,a.Ymin*a.yscale),b.lineTo(c*a.xscale,a.Ymax*a.yscale);b.stroke();b.beginPath();for(c=a.Ymin-a.Ymin%d;c<a.Ymax;c+=d)b.moveTo(a.Xmin*a.xscale,c*a.yscale),b.lineTo(a.Xmax*a.xscale,c*a.yscale);b.stroke();b.restore()},drawFunction:function(b,a,d){try{var c=a.Xmin*a.xscale,j=a.Xmax*a.xscale,e=b.strokeStyle;b.strokeStyle=d.color?d.color:"#000";b.moveTo(c,d(c));for(b.beginPath();c<=
j;c++){var g=d(c/a.xscale),g=g<a.Ymin?a.Ymin-1:g,g=g>a.Ymax?a.Ymax+1:g;b.lineTo(c,g*a.yscale)}b.stroke()}catch(f){console.log("fonction en erreur",d,f)}finally{b.stokeStyle=e}}},k={Xmin:0,Xmax:10,Ymin:0,Ymax:3,xLabel:"x",yLabel:"y",canvasHeight:500,canvasWidth:500,gridDensity:0,gridVisible:!0},e=function(b,a,d){var a=h.extend({},k,a),c=a.X=a.Xmax-a.Xmin,e=a.Y=a.Ymax-a.Ymin,c=a.xscale=a.canvasWidth/c,e=a.yscale=a.canvasHeight/e,b=h.createCanvas(b,a);b.scale(1,-1);b.translate(0,-a.canvasHeight);b.translate(-(a.Xmin*
c),-(a.Ymin*e));a.gridVisible&&h.drawGrid(b,a);h.drawAxes(b,a);for(c=0;c<d.length;c++)h.drawFunction(b,a,d[c])};e.tools={datasetToFunc:function(b){return b.reduce(function(a,b,c,e){c=e[c+1];if(void 0===c)return function(c){if(!(c>b[0]))return a(c)};var f=(c[1]-b[1])/(c[0]-b[0]),g=b[1]-f*b[0],h=b[0];console.log(f+"x + "+g);return function(b){return b>=h?f*b+g:a(b)}},function(){})}};return e}(window,document,function(e){[].slice.call(arguments,1).forEach(function(f){for(key in f)e[key]=f[key]});return e});
